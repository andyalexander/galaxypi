import serial
import serial.rs485
from multiprocessing import Queue, Process

import keyqueue
import keypad
import utils



b_ = "10 07 81 01 54 49 4d 45 44 20 20 20 20 20 20 20 20 30 35 39 02 ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff db db da db c8"

my_pad = keypad.Keypad(0x10)
resp = my_pad.handle_message(b_)


b_ = '10 07 01 01 20 20 20 20 20 20 41 44 54 20 20 20 20 20 20 20 02 31 36 3a 31 30 20 53 41 54 20 32 30 20 4a 55 4e 03 1c 07 04 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3'
# print(b_[123:125])
# print(b_.find('11',123))

# b_ = "20 00 08 d2 20 00 08 d2 20 00 08 d2 20 00 08 d2 20 00 08 d2 20 00 08 d2 30 00 08 e2 30 00 08 e2 30 00 08 e2 30 00 08 e2 30 00 08 e2 30 00 08 e2 4d 00 08 ff 4d 00 08 ff 4d 00 08 ff 4d 00 08 ff 4d 00 08 ff 4d 00 08 ff 01 00 08 b3 01 00 08 b3 01 00 08 b3 01 00 08 b3 01 00 08 b3 01 00 08 b3 21 00 08 d3 21 00 08 d3 21 00 08 d3 21 00 08 d3 21 00 08 d3 21 00 08 d3 21 00 08 d3 21 00 08 d3 21 00 08 d3 21 00 08 d3 21 00 08 d3 23 1b 00 e8 23 1b 00 e8 23 1b 00 e8 23 1b 00 e8 23 1b 00 e8 23 1b 00 e8 10 00 08 c2 11 ff 08 00 64 28 21 00 08 d3 10 19 01 d4 11 fe ba 21 00 08 d3 10 0c 00 00 00 c6 11 fe ba 21 00 08 d3 10 0d 01 c8 11 fe ba 21 00 08 d3 10 07 81 01 20 20 20 20 20 20 41 44 54 20 20 20 20 20 20 20 02 32 32 3a 32 30 20 53 41 54 20 32 30 20 4a 55 4e 03 1c 07 82 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06"
# b_ = "20 00 08 d2 20 00 08 d2 "
# b_ = "21 00 08 d3 10 07 81 01 20 20 20 20 20 20 41 44 54 20 20 20 20 20 20 20 02 32 32 3a 32 30 20 53 41 54 20 32 30 20 4a 55 4e 03 1c 07 82 11 fe ba"

# b_ = "20 20 20 20 20 20 20 20 20 20 20 20 20 02 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 03 00 07 ef 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 f4 02 b2 21 00 08 d3 10 07 91 01 2a 2a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 02 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 03 00 07 78 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba 21 00 08 d3 10 06 c0 11 fe ba"

a = b = c = ""
b = b_.strip()
while len(b)>0:
    a,b,c = utils.splitBytesById2(b)
    # print(a, '::', b)
    print(a)
# # print(b)
# # print(c)

# b_ = '10 07 01 01 20 20 20 20 20 2 44 54 20 20 20 20 20 20 20 02 31 36 3a 31 30 20 53 41 54 20 32 30 20 4a 55 4e 03 1c 07 04'
# tmp = utils.calcParity(bytes.fromhex(b_))
# print(hex(tmp))
# print(len(b_))